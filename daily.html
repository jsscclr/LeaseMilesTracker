<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>Lease Mileage Tracker</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link rel="stylesheet" href="css/simple/bootstrap.min.css" />	
		<style type="text/css">
			input[type=number]::-webkit-inner-spin-button,
			input[type=number]::-webkit-outer-spin-button {
    			-webkit-appearance: none;
    			margin: 0;
			}
			.center { text-align: center; }
			.past { opacity: 0.25 }
			.future { opacity: 0.5 }
		
		</style>
		<script type="text/javascript">
		if (navigator.userAgent.indexOf('iPhone') != -1) {
			addEventListener('load', function() {
				setTimeout(hideAddressBar, 10);
				}, false);
		}
		function hideAddressBar() {
			window.scrollTo(0, 1);
		}
		function w(what) {
			document.write(what);
		}
		</script>
		<script src="js/main.js"></script>
	</head>
	<body>
		<div class="container">

			<h1>
				<span id="leaseMonths"><script type="text/javascript">
				w(LeaseInfo.leaseLength);
				</script></span> 
				@ <span id="milesPerYear"><script type="text/javascript">
				w(LeaseInfo.milesPerYearShort);
				</script></span> lease
				<small>started on <span id="startedOn"><script type="text/javascript">
				w(LeaseInfo.leaseStart.toDateString());</script></span></small>
			</h1>

			<table class="table">
				<caption>Daily estimates</caption>
				<thead>
					<tr>
						<th>Date</th>
						<th>Miles</th>
					</tr>
				</thead>
				<tbody>
				<script type="text/javascript">
					var targetDate = getParameterByName('t');
					var today = targetDate ? Date.uParse(targetDate).date() : (new Date()).date();
					var miles = getDateRange(today, LeaseInfo);
					miles.forEach(function(m) {
						document.writeln('<tr class="' + m.type + '">');
						document.writeln('<td>' + (m.day.getMonth() + 1) + '/' + m.day.getDate() + '</td>');
						document.writeln('<td>' + Math.floor(m.estimate) + ' miles</td>');
						document.writeln('</tr>');
					})
				</script>
				</tbody>
			</table>
		</div>
	</body>
</html>
